@model SistemaGestionNotas.Models.ViewModels.CursoInscripcionesDetailsViewModel

@{
    ViewData["Title"] = "Alumnos Inscritos";
}

<div class="card shadow border-0">
    <div class="card-header bg-light py-3">
        <div class="d-flex justify-content-between align-items-center flex-wrap gap-2">
            <div>
                <h4 class="mb-0 text-primary">
                    <i class="fas fa-list-ul me-2"></i>@ViewData["Title"]
                </h4>
                <small class="text-muted ms-1">@Model.NombreCurso (@Model.CodigoCurso - Sección @Model.Seccion)</small>
            </div>
            <a asp-action="Index" class="btn btn-outline-secondary">
                <i class="fas fa-arrow-left me-2"></i>Volver al Listado
            </a>
        </div>
    </div>
    <div class="card-body">
        @if (Model.AlumnosInscritos.Any())
        {
            <div class="table-responsive">
                <table id="alumnosInscritosTable" class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>Carné</th>
                            <th>Nombre Completo del Alumno</th>
                            <th>Fecha de Ingreso Alumno</th>
                            <th>Fecha Inscripción al Curso</th>
                            
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var inscripcion in Model.AlumnosInscritos)
                        {
                            <tr>
                                <td>@inscripcion.Alumno.Codigo</td>
                                <td>@inscripcion.Alumno.Nombre</td>
                                <td>@inscripcion.Alumno.FechaIngreso.ToShortDateString()</td>
                                <td>@inscripcion.FechaInscripcion.ToShortDateString()</td>
                                
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        }
        else
        {
            <div class="alert alert-warning text-center">
                <i class="fas fa-info-circle me-2"></i>No hay alumnos inscritos en este curso.
            </div>
        }
    </div>
    <div class="card-footer bg-light border-top">
        <span>Total de alumnos inscritos: <strong>@Model.AlumnosInscritos.Count()</strong></span>
    </div>
</div>

@section Scripts {
    <style>
        @@media print {
            body * {
                visibility: hidden;
            }

            .card, .card * {
                visibility: visible;
            }

            .card {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
                box-shadow: none !important;
                border: none !important;
            }

            .btn-outline-secondary {
                display: none;
            }
        }
    </style>
}